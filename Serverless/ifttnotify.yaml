metadata:
  name: ifttnotify
  labels:
    nuclio.io/project-name: 3faf3187-5030-4392-b47a-e9bbbe87c9f6
spec:
  handler: "main:Handler"
  runtime: golang
  env:
    - name: LIMIT
      value: "20"
  resources: {}
  image: "nuclio/processor-ifttnotify:latest"
  minReplicas: 1
  maxReplicas: 1
  targetCPU: 75
  triggers:
    crontrigger:
      class: ""
      kind: cron
      attributes:
        interval: 60s
  build:
    image: ""
    noCache: false
    offline: false
    dependencies: []
    runtimeAttributes:
      repositories: []
    functionSourceCode: cGFja2FnZSBtYWluDQoNCmltcG9ydCAoDQoJImZtdCINCgkiaW8vaW91dGlsIg0KCSJsb2ciDQoJIm5ldC9odHRwIg0KCSJvcyINCgkic3RyY29udiINCgkic3RyaW5ncyINCg0KCSJnaXRodWIuY29tL251Y2xpby9udWNsaW8tc2RrLWdvIg0KKQ0KDQpmdW5jIEhhbmRsZXIoY29udGV4dCAqbnVjbGlvLkNvbnRleHQsIGV2ZW50IG51Y2xpby5FdmVudCkgKGludGVyZmFjZXt9LCBlcnJvcikgew0KCWNvbnRleHQuTG9nZ2VyLkluZm8oIlRoaXMgaXMgYW4gdW5zdHJ1Y3VyZWQgJXMiLCAibG9nIikNCg0KCS8vb3MuU2V0ZW52KCJMSU1JVCIsICIyMCIpDQoJRU5URVJfVVJMIDo9ICJodHRwczovL2N2b2lkMTktMmE5NjMuZmlyZWJhc2Vpby5jb20vY3ZvaWQtYmFyL2Rvb3ItZW50ZXIuanNvbiINCglFWElUX1VSTCA6PSAiaHR0cHM6Ly9jdm9pZDE5LTJhOTYzLmZpcmViYXNlaW8uY29tL2N2b2lkLWJhci9kb29yLWV4aXQuanNvbiINCglJRlRUVF9VUkwgOj0gImh0dHBzOi8vbWFrZXIuaWZ0dHQuY29tL3RyaWdnZXIvY3ZvaWRfbm90aWZ5L3dpdGgva2V5L2RzQXAwVUlCel9jc0t0QzVCX0xvZ2FncnN4TG1tc1VxNVFtS1ktNWNScTciDQoJZW50ZXIsIGVyciA6PSBjb3VudFBlb3BsZShFTlRFUl9VUkwsICJlbnRlciIpDQoJaWYgZXJyICE9IG5pbCB7DQoJCWxvZy5GYXRhbGxuKGVycikNCgl9DQogICAgbG9nLlByaW50bG4oIkVudGVyIixlbnRlcikNCglmbXQuUHJpbnRsbihlbnRlcikNCglleGl0LCBlcnIgOj0gY291bnRQZW9wbGUoRVhJVF9VUkwsICJleGl0IikNCglpZiBlcnIgIT0gbmlsIHsNCgkJbG9nLkZhdGFsbG4oZXJyKQ0KCX0NCiAgICBsb2cuUHJpbnRsbigiRXhpdCIsZXhpdCkNCglmbXQuUHJpbnRsbihleGl0KQ0KCWxpbWl0LCBlcnIgOj0gc3RyY29udi5BdG9pKG9zLkdldGVudigiTElNSVQiKSkNCglpZiBlcnIgIT0gbmlsIHsNCgkJbG9nLkZhdGFsbG4oIkVOViBOT1QgRk9VTkQiKQ0KCX0NCglwZW9wbGVJbnNpZGUgOj0gZW50ZXIgLSBleGl0DQoJaWYgcGVvcGxlSW5zaWRlID49IGxpbWl0IHsNCgkJXywgZXJyIDo9IGh0dHAuR2V0KElGVFRUX1VSTCkNCgkJaWYgZXJyICE9IG5pbCB7DQoJCQlsb2cuRmF0YWxsbihlcnIpDQoJCX0NCgl9DQoNCglyZXR1cm4gbnVjbGlvLlJlc3BvbnNlew0KCQlTdGF0dXNDb2RlOiAgMjAwLA0KCQlDb250ZW50VHlwZTogImFwcGxpY2F0aW9uL3RleHQiLA0KCQlCb2R5OiAgICAgICAgW11ieXRlKGZtdC5TcHJpbnRmKCJQZW9wbGUgaW5zaWRlICVkIiwgcGVvcGxlSW5zaWRlKSksDQoJfSwgbmlsDQp9DQoNCmZ1bmMgY291bnRQZW9wbGUodXJsIHN0cmluZywgbWF0Y2ggc3RyaW5nKSAoaW50LCBlcnJvcikgew0KCXBlb3BsZSA6PSAwDQoJdmFyIGVycm9yUiBlcnJvcg0KCXJlc3AsIGVyciA6PSBodHRwLkdldCh1cmwpDQoJaWYgZXJyICE9IG5pbCB7DQoJCWxvZy5GYXRhbGxuKGVycikNCgkJZXJyb3JSID0gZXJyDQoJfQ0KCS8vV2UgUmVhZCB0aGUgcmVzcG9uc2UgYm9keSBvbiB0aGUgbGluZSBiZWxvdy4NCglib2R5LCBlcnIgOj0gaW91dGlsLlJlYWRBbGwocmVzcC5Cb2R5KQ0KCWlmIGVyciAhPSBuaWwgew0KCQlsb2cuRmF0YWxsbihlcnIpDQoJCWVycm9yUiA9IGVycg0KCX0NCgkvL0NvbnZlcnQgdGhlIGJvZHkgdG8gdHlwZSBzdHJpbmcNCglzYiA6PSBzdHJpbmcoYm9keSkNCgkvLyBsb2cuUHJpbnRmKHNiKQ0KCXBlb3BsZSA9IHN0cmluZ3MuQ291bnQoc2IsIG1hdGNoKQ0KCXJldHVybiBwZW9wbGUsIGVycm9yUg0KfQ==
    commands:
      - "apk add -y ca-certificates"
    codeEntryType: sourceCode
  platform: {}
  readinessTimeoutSeconds: 60
